---
title: The Main Component
date: 2023-08-26 18:40:00 +/-0
categories: [clean_architecture]
tags: [clean_architecture.clean_architecture-chp26] # TAG names should always be lowercase
---

모든 시스템에는 최소한 하나의 컴포넌트가 존재하고, 이 컴포넌트가 나머지 컴포넌트를 생성 및 관리한다.  
우리는 이를 Main 컴포넌트라고 부른다.

# 궁극적인 세부사항

메인은 시스템의 초기 진입점으로, OS를 제외하면 어떠한 컴포넌트도 의존하지 않는다.  
여기에서 모든 Factory와 Strategy 그리고 시스템 전반을 담당하는 나머지 기반 설비를 생성한 후, 고수준을 담당하는 부분으로 제어권을 넘기는 역할을 한다.  
메인은 가장 지저분한 컴포넌트이다.

움퍼스 사냥을 예로 들면 메인에서는 입력 스트림 생성 부분, 게임의 메인 루프 처리, 간단한 입력 명령어 해석 등을 처리하지만 명령어를 실제로 처리하는 일은 다른 고수준 컴포넌트로 위임한다.

핵심은 메인 함수는 클린 아키텍처에서 가장 바깥 원에 위치하는, 지저분한 저수준 모듈이라는 점이다.  
메인은 고수준의 시스템을 위한 모든 것을 로드한 후, 제어권을 고수준의 시스템에 넘긴다.

# 결론

**메인은 초기 조건과 설정을 구성하고, 외부 자원을 모두 수집한 후, 제어권을 app의 고수준 policy로 넘기는 플러그인이다.**
따라서 app의 설정 별로 main 컴포넌트를 하나씩 두도록 하여 둘 이상의 main 컴포넌트를 만들 수도 있다.
